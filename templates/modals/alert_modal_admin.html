<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

<!-- Error Modal -->
<div id="errorModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50">
  <div class="bg-[#1e1f36] text-white w-[350px] rounded shadow-lg p-4 relative">
    <div class="flex justify-between items-center border-b border-transparent mb-4">
      <h5 class="text-lg font-semibold">Error</h5>
      <button onclick="closeModal('errorModal')" class="text-white text-xl">&times;</button>
    </div>
    <div class="text-center">
      {% if messages %}
        {% for message in messages %}
          {% if message.tags == 'error' %}
          <div class="bg-red-600 text-white px-3 py-2 rounded flex items-center justify-center gap-2">
            <i class="bi bi-x-circle-fill"></i>
            <span>{{ message }}</span>
          </div>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
  </div>
</div>

<!-- Success Modal -->
<div id="successModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50">
  <div class="bg-[#1e1f36] text-white w-[350px] rounded shadow-lg p-4 relative">
    <div class="flex justify-between items-center border-b border-transparent mb-4">
      <h5 class="text-lg font-semibold">Éxito</h5>
      <button onclick="closeModal('successModal')" class="text-white text-xl">&times;</button>
    </div>
    <div class="text-center">
      {% if messages %}
        {% for message in messages %}
          {% if message.tags == 'success' %}
          <div class="bg-green-600 text-white px-3 py-2 rounded flex items-center justify-center gap-2">
            <i class="bi bi-check-circle-fill"></i>
            <span>{{ message }} <i class="bi bi-emoji-smile"></i></span>
          </div>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
  </div>
</div>

<!-- Info Modal -->
<div id="infoModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50">
  <div class="bg-[#1e1f36] text-white w-[350px] rounded shadow-lg p-4 relative">
    <div class="flex justify-between items-center border-b border-transparent mb-4">
      <h5 class="text-lg font-semibold">Información</h5>
      <button onclick="closeModal('infoModal')" class="text-white text-xl">&times;</button>
    </div>
    <div class="text-center">
      {% if messages %}
        {% for message in messages %}
          {% if message.tags == 'info' %}
          <div class="bg-cyan-600 text-white px-3 py-2 rounded flex items-center justify-center gap-2">
            <i class="bi bi-info-circle-fill"></i>
            <span>{{ message }} <i class="bi bi-emoji-smile"></i></span>
          </div>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
  </div>
</div>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    {% if messages %}
      {% for message in messages %}
        {% if message.tags == 'success' %}
          openModal('successModal');
        {% elif message.tags == 'error' %}
          openModal('errorModal');
        {% elif message.tags == 'info' %}
          openModal('infoModal');
        {% endif %}
      {% endfor %}
    {% endif %}
  });

  function openModal(id) {
    const modal = document.getElementById(id);
    if (modal) {
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }
  }

  function closeModal(id) {
    const modal = document.getElementById(id);
    if (modal) {
      modal.classList.remove('flex');
      modal.classList.add('hidden');
    }
  }
</script>

